{% set raffle_date  = get_post_meta("_raffle_date", raffle.id) %}
{% set raffle_price  = get_post_meta("_raffle_price", raffle.id) %}
{% set thumbnail_id  = get_post_meta("_thumbnail_id", raffle.id) %}

<div class="bg-[#1a1a1a] rounded-xl overflow-hidden border border-gray-800 hover:border-red-600 transition-colors flex flex-col">
	<div class="relative">
		<img alt="{{ raffle.title }}" srcset="{{ thumbnail_id | attachment_srcset }}" sizes="(max-width: 640px) 100vw, 
           (max-width: 1024px) 50vw, 
           33vw" class="object-cover w-full h-48"/>
	</div>
	
	<!-- ✅ Agregar flex flex-col flex-1 -->
	<div class="p-4 flex flex-col flex-1">
		<div class="flex-1">
			<h3 class="mb-1 font-bold text-white">{{ raffle.title }}</h3>
			<div class="mb-3 text-sm text-gray-400">{{ raffle.content }}</div>
			
			<div class="flex justify-between mb-3">
				<div>
					<div class="text-xs text-gray-400">Por boleto</div>
					<div class="text-xl font-bold text-white">{{ format_currency(raffle_price, 'USD') }}</div>
				</div>
				<div class="text-right">
					<div class="text-xs text-gray-400">Sorteo</div>
					<div class="text-sm font-semibold text-white">{{ raffle_date|date_format('d M, Y - g:i A') }}</div>
				</div>
			</div>
		</div>
		
		<!-- ✅ Botón con mt-auto para pegarlo abajo -->
		<a
			aria-label="Ver detalles de {{ raffle.title }}"
			href="{{ raffle.link }}"
			class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2.5 rounded-lg cursor-pointer flex justify-center mt-auto">
			Ver Detalles
		</a>
	</div>
</div>